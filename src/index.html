<!DOCTYPE html>
<html>

<head>

    <title>娃娃机</title>
    <style>
    	.v-style {
    		display: block;
			width: 640px;
			height: 450px;
			margin: 50px auto;
    	}
    	video {
    		display: block;
    		width: 100%;
    		height: 80%;
    	}
    	.jsmpeg {
    		display: block;
    		height: 100%;
    	}
    </style>
</head>

<body class="none">
	<!-- <div class="v-style">
		<h1>websocket:</h1>
		<div class="jsmpeg" data-url="ws://192.168.1.87:8082"></div>
	</div> -->
	<div class="v-style">
		<h1>websocket:</h1>
		<div class="jsmpeg" data-url="ws://120.78.197.82:8080/wawaji/test"></div>
	</div>
	<div class="v-style">
		<h1>flv:</h1>
		<video id="videoElement" controls autoplay="true"></video>
	</div>
	<div class="v-style">
		<h1>hls: m3u8</h1>
		<video src="http://hdl.ws.zego.im/zegodemo/obs/playlist.m3u8" controls autoplay="true"></video>
	</div>
    <!-- built files will be auto injected -->
	<script src="/static/js/jsmpeg/jsmpeg.min.js"></script>
	<script src="/static/js/flv/flv.js"></script>
	<script>
		alert(JSON.stringify(flvjs.getFeatureList()));
		alert(JSON.stringify(navigator.userAgent));
		alert(JSON.stringify(navigator.appVersion));
		console.log(flvjs.getFeatureList());
		if (flvjs.isSupported()) {
	        var videoElement = document.getElementById('videoElement');
	        var flvPlayer = flvjs.createPlayer({
	            type: 'flv',
	            isLive: true,
	            hasAudio: false,
	            url: 'http://hdl.ws.zego.im/zegodemo/obs.flv',
            	enableWorker: true,
            	enableStashBuffer: false,
            	lazyLoadMaxDuration: 100,
            	deferLoadAfterSourceOpen: false,
            	fixAudioTimestampGap: false,
	        });
	        flvPlayer.attachMediaElement(videoElement);
	        flvPlayer.load();
	        flvPlayer.play();
	    } else {
	    	alert('不支持flv')
	    }
	</script>
</body>

</html>